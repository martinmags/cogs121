<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Community Feed</title>
  <link rel="stylesheet" href="css/cssreset.css">
  <link rel="stylesheet" href="css/discover.css">
</head>

<script src="https://www.gstatic.com/firebasejs/6.0.2/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/6.0.2/firebase-firestore.js"></script>

<script src="./js/fetch.umd.js"></script>

<script>
  // Initialize Cloud Firestore through Firebase
  firebase.initializeApp({
    apiKey: "AIzaSyC6FPXu3_bOHpHr7AelgBKAMbGiIUPZ2Vo",
    authDomain: "pandaexpressjs.firebaseapp.com",
    projectId: "pandaexpressjs"
  });

  var db = firebase.firestore();

  window.onload = function () {
    db.collection("prompts").get().then((querySnapshot) => {
      let tgtContainer = document.querySelector(".prompts_container > .row_container");
      querySnapshot.forEach((doc) => {
        tgtContainer.innerHTML += `
          <div class="col_container">
            <a href="Prompt.html"><img class="prompt" alt="prompt" src="${doc.data()["coverUrl"]}"></img></a>
            <text class="txt">${doc.data()["title"]}</text>
          </div>      
        `
      })
    })
  }
</script>

<body>
  <div class="screen_container">

    <div class="header_container">
      <header id="title">XPOSURE</header>
    </div>

    <!--       <div class="search_container">
        <form action="Discover.html">
          <input id="search-btn" type="text" placeholder="Search Users">
        </form>
      </div> -->

    <div class="prompts_header_container">
      <text id="prompts-header">Current Prompts
        <span id="time-txt">x hours left</span>
      </text>
    </div>

    <div class="prompts_container">
      <div class="row_container">
      </div>
    </div>

    <div class="sub_header_container">
      <text id="showcase-header">Showcase</text>
    </div>

    <div class="showcase_container">
      <div class="showcase">
        <div class="row_container">
          <img id="winner1"></img>
          <div class="col_container">
            <img id="winner2"></img>
            <img id="winner3"></img>
          </div>
        </div>
        <text class="txt">Title</text>
      </div>

      <div class="showcase">
        <div class="row_container">
          <img id="winner1"></img>
          <div class="col_container">
            <img id="winner2"></img>
            <img id="winner3"></img>
          </div>
        </div>
        <text class="txt">Title</text>
      </div>

      <div class="showcase">
        <div class="row_container">
          <img id="winner1"></img>
          <div class="col_container">
            <img id="winner2"></img>
            <img id="winner3"></img>
          </div>
        </div>
        <text class="txt">Title</text>
      </div>
    </div>

    <footer class="footer_container">
      <a href="Discover.html">
        <button class="footer_button">DISCOVER</button>
      </a>
      <a href="Profile.html">
        <button class="footer_button">PROFILE</button>
      </a>
    </footer>

  </div>

</body>

</html>

</html>